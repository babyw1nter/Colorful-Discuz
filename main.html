<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/element-ui.min.css">
  <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
  <div class="colorful logo">
    <a id="colorful_a" class="logo-a"></a>
    <span class="title-span">COLORFUL!</span>
  </div>
  <div id="colorful-app">
    <div class="colorful main">
      <el-collapse v-model="collapseActiveName" accordion class="colorful">
        <el-collapse-item name="0">
          <template slot="title">
            <i class="collapse-title el-icon-news"></i>
            <span class="collapse-title">色彩调整</span>
          </template>
          <div class="colorful color-ctl">
            <div class="label">起始颜色</div>
            <el-color-picker v-model="colorStart" size="small"></el-color-picker>
            <el-input v-model="colorStart" size="small" clearable></el-input>
          </div>
          <div class="colorful color-ctl">
            <div class="label">结束颜色</div>
            <el-color-picker v-model="colorEnd" size="small"></el-color-picker>
            <el-input v-model="colorEnd" size="small" clearable></el-input>
          </div>
          <div class="colorful color-ctl">
            <div class="label">色彩效果</div>
            <el-select v-model="colorMode" size="small" placeholder="请选择色彩效果">
              <el-option v-for="item in colorModes" :key="item.value" :label="item.label" :value="item.value"></el-option>
            </el-select>
          </div>
        </el-collapse-item>
        <el-collapse-item name="1">
          <template slot="title">
            <i class="collapse-title el-icon-edit"></i>
            <span class="collapse-title">文本样式</span>
          </template>
          <div class="colorful color-ctl">
            <div class="label">文字效果</div>
            <el-select v-model="colorTextMode" size="small" placeholder="请选择文字效果">
              <el-option v-for="item in colorTextModes" :key="item.value" :label="item.label" :value="item.value"></el-option>
            </el-select>
          </div>
          <div class="colorful color-ctl" v-show="colorTextMode == 1">
            <div class="label">残影行数</div>
            <el-input-number v-model="fontOptions.line" :min="2" :max="50" label="残影行数" size="small" controls-position="right"></el-input-number>
          </div>
          <div class="colorful color-ctl">
            <div class="label">字体大小</div>
            <el-select v-model="fontOptions.size" size="small" placeholder="请选择字体大小">
              <el-option v-for="item in 7" :key="item" :label="item" :value="item"></el-option>
            </el-select>
          </div>
          <div class="colorful color-ctl">
            <div class="label">字体属性</div>
            <div class="checkbox">
              <el-checkbox v-model="fontOptions.b">加粗</el-checkbox>
              <el-checkbox v-model="fontOptions.i">倾斜</el-checkbox>
              <el-checkbox v-model="fontOptions.u">下划线</el-checkbox>
            </div>
          </div>
        </el-collapse-item>
      </el-collapse>
      <el-input type="textarea" placeholder="请输入文本" v-model="colorText" rows="4" style="margin-bottom: 16px"></el-input>
      <div class="view-text">
        <el-button type="text" @click="isViewTextCode = isViewTextCode ? false : true">查看代码</el-button>
        <font v-if="colorTextMode == 0" :size="fontOptions.size" :style="{ fontWeight: fontOptions.b ? '600' : 'normal', fontStyle: fontOptions.i ? 'italic' : 'normal', textDecoration: fontOptions.u ? 'underline' : 'none' }">
          <font v-for="text in colorTextComputed.html" :color="text.colorHex">{{ text.text }}</font>
        </font>
        <font v-if="colorTextMode == 1" :size="fontOptions.size" :style="{ fontWeight: fontOptions.b ? '600' : 'normal', fontStyle: fontOptions.i ? 'italic' : 'normal', textDecoration: fontOptions.u ? 'underline' : 'none' }" style="display: block; margin: 16px 0">
          <p v-for="line in fontOptions.line" style="margin: 0; line-height: 3px; text-align: left">
            <font v-for="text in colorTextComputed.html" :color="text.colorHex">{{ text.text }}</font>
          </p>
        </font>
        <span style="display: none">{{ colorTextView }}</span>
      </div>
      <p class="colorful error-alert" v-show="isError">
        <span>
          <i class="el-icon-warning" style="margin-right: 2px"></i>
          {{ errorMsg }}
        </span>
      </p>
    </div>
    <div class="colorful menubar">
      <el-button type="primary" @click="postTextToTextarea" :disabled="isError">应用样式到所选文本</el-button>
    </div>
  <div>
  <el-dialog title="查看代码" :visible.sync="isViewTextCode" class="u-dag" fullscreen>
    <el-input type="textarea" v-model="colorTextComputed.discuz" rows="9" readonly="true"></el-input>
    <div class="colorful menubar">
    <el-button type="primary" v-clipboard:copy="colorTextComputed.discuz" v-clipboard:success="copySuccess" v-clipboard:error="copyError">复制到剪贴板</el-button>
    </div>
  </el-dialog>
  <script src="js/vue.min.js"></script>
  <script src="js/vue-clipboard.min.js"></script>
  <script src="js/element-ui.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>